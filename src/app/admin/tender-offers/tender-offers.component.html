<div class="page-header">
  <h1 class="pageName">مدیریت مناقصه‌ها</h1>
  <div class="actionBar">
    <label class="include-expired-toggle">
      <span>نمایش مناقصه‌های منقضی‌شده</span>
      <nz-switch [ngModel]="includeExpired" (ngModelChange)="toggleIncludeExpired($event)"></nz-switch>
    </label>
    <button nz-button nzType="primary" (click)="addRow()">افزودن مناقصه جدید</button>
  </div>
</div>

<ag-grid-angular
  class="ag-theme-alpine tender-grid"
  [columnDefs]="columnDefs"
  [defaultColDef]="defaultColumnDefs"
  [rowData]="rowData"
  (gridReady)="onGridReady($event)"
  (cellClicked)="onCellClicked($event)"
></ag-grid-angular>

<form nz-form [formGroup]="validateForm">
  <nz-modal [(nzVisible)]="isEditModalVisible" nzTitle="ویرایش مناقصه" nzOkText="ذخیره" nzCancelText="انصراف"
    [nzOkLoading]="loading" (nzOnOk)="submitForm()" (nzOnCancel)="isEditModalVisible = false" nzDirection="rtl">
    <ng-container *nzModalContent>
      <nz-form-item>
        <nz-form-label [nzSm]="8" [nzXs]="24" nzRequired>عنوان</nz-form-label>
        <nz-form-control [nzSm]="16" [nzXs]="24">
          <input type="text" nz-input formControlName="Title" placeholder="عنوان مناقصه" />
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label [nzSm]="8" [nzXs]="24" nzRequired>توضیحات</nz-form-label>
        <nz-form-control [nzSm]="16" [nzXs]="24">
          <textarea formControlName="Description" nz-input rows="3" placeholder="توضیحات مناقصه"></textarea>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label [nzSm]="8" [nzXs]="24" nzRequired>تاریخ شروع</nz-form-label>
        <nz-form-control [nzSm]="16" [nzXs]="24">
          <nz-date-picker formControlName="BeginDate" nzPlaceHolder="انتخاب تاریخ"></nz-date-picker>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label [nzSm]="8" [nzXs]="24" nzRequired>تاریخ پایان</nz-form-label>
        <nz-form-control [nzSm]="16" [nzXs]="24">
          <nz-date-picker formControlName="EndDate" nzPlaceHolder="انتخاب تاریخ"></nz-date-picker>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label [nzSm]="8" [nzXs]="24" nzRequired>حداقل قیمت</nz-form-label>
        <nz-form-control [nzSm]="16" [nzXs]="24">
          <nz-input-number formControlName="FromPrice" [nzMin]="0" [nzMax]="999999999" [nzStep]="1000"
            style="width: 200px"></nz-input-number>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label [nzSm]="8" [nzXs]="24" nzRequired>حداکثر قیمت</nz-form-label>
        <nz-form-control [nzSm]="16" [nzXs]="24">
          <nz-input-number formControlName="ToPrice" [nzMin]="0" [nzMax]="999999999" [nzStep]="1000"
            style="width: 200px"></nz-input-number>
        </nz-form-control>
      </nz-form-item>
    </ng-container>
  </nz-modal>
</form>
